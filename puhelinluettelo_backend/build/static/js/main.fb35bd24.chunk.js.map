{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","put","concat","delete","Notification","props","message","react_default","a","createElement","className","style","Filter","value","filterValue","onChange","filterOnChange","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Persons","persons","filter","person","length","nameLowerCase","name","toLowerCase","includes","map","i","App_Person","key","number","removePerson","Person","onClick","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","errorStyle","setErrorStyle","useEffect","personService","initialPersons","App_Notification","App_Filter","event","preventDefault","target","App_PersonForm","personObject","check","find","undefined","window","confirm","console","log","updatePersons","setTimeout","catch","error","App_Persons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.fb35bd24.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    update: update,\n    remove: remove\n}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\n\nconst Notification = (props) => {\n  if(props.message === null) {\n    return null\n  }\n\n  return (\n    <div className={props.style}>\n      {props.message}\n    </div>\n  )\n}\n\nconst Filter = (props) => {\n  return (\n    <form><div>filter shown with <input value={props.filterValue} onChange={props.filterOnChange}/></div></form>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <div>name: <input value={props.nameValue} onChange={props.nameOnChange}/></div>\n      <div>number: <input value={props.numberValue} onChange={props.numberOnChange}/></div>\n      <div><button type=\"submit\">add</button></div>\n    </form>\n  )\n}\n\nconst Persons = (props) => {\n  return (\n    props.persons.filter(person => {\n      if(props.filter.length > 0){\n        const nameLowerCase = person.name.toLowerCase()\n        const filter = props.filter.toLowerCase()\n        return nameLowerCase.includes(filter)\n      } else{\n        return true\n      }\n    }).map((person,i) => <Person key={i} name={person.name} number={person.number} removePerson={props.removePerson} id={person.id} />)\n  )\n}\n\nconst Person = (props) => {\n  \n  return (\n    <div>{props.name} {props.number}<button id={props.id} value={props.name} onClick={props.removePerson}>delete</button></div>\n  )\n}\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ errorStyle, setErrorStyle ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  },[])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    var check = persons.find(person => {\n      return person.name === personObject.name\n    })\n\n    if(check !== undefined){\n      if(window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)){\n        \n        personService\n          .update(check.id, personObject)\n          .then(person => {\n            console.log(person)\n            personService\n              .getAll()\n              .then(updatePersons => {\n                setPersons(updatePersons)\n              })\n            setErrorStyle('notification')\n            setErrorMessage(\n              `Person ${personObject.name} updated`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n              setErrorStyle('')\n            },5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            personService\n              .getAll()\n              .then(updatePersons => {\n                setPersons(updatePersons)\n              })\n            setErrorStyle('error')\n            setErrorMessage(\n              `Information of ${personObject.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n              setErrorStyle('')\n            },5000)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(person => {\n          setPersons(persons.concat(person))\n          setNewName('')\n          setNewNumber('')\n          setErrorStyle('notification')\n          setErrorMessage(\n            `Person ${personObject.name} added to phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n            setErrorStyle('')\n          },5000)\n        })\n        .catch(error => {\n          setNewName('')\n          setNewNumber('')\n          setErrorStyle('error')\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n            setErrorStyle('')\n          },5000)\n        })\n    }\n  }\n\n  const removePerson = (event) => {\n    const name = event.target.value\n    if(window.confirm(`Delete ${name}?`)){\n      personService\n      .remove(event.target.id)\n      .then(response => {\n        personService\n          .getAll()\n          .then(updatePersons => {\n            setPersons(updatePersons)\n          })\n        setErrorStyle('notification')\n        setErrorMessage(\n          `Person ${name} removed from phonebook`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorStyle('')\n        },5000)\n      })\n      .catch(error => {\n        personService\n          .getAll()\n          .then(updatePersons => {\n            setPersons(updatePersons)\n          })\n        setErrorStyle('error')\n        setErrorMessage(\n          `Information of ${name} has already been removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorStyle('')\n        },5000)\n      })\n    }\n    \n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    event.preventDefault()\n    setNewFilter(event.target.value)\n  }\n  \n  return (\n    <div> \n      <h2>Phonebook</h2>\n      <Notification style={errorStyle} message={errorMessage} />\n      <Filter filterValue={newFilter} filterOnChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm onSubmit={addPerson} nameValue={newName} nameOnChange={handlePersonChange} numberValue={newNumber} numberOnChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={newFilter} removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}